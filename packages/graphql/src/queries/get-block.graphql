# import TransactionOutput from ./tx-fragments.graphql

fragment BlockItem on Block {
  # Custom Resolvers
  time {
    fromNow
    full
    rawTai64
    rawUnix
  }
  totalGasUsed
  producer

  # Block Data
  id
  consensus {
    __typename
    ... on PoAConsensus {
      signature
    }
  }
  header {
    transactionsCount
    time
  }
  transactions {
    id
    gasUsed
    title
    isMint
    isCreate
    isScript
    rawPayload
    outputs {
      ...TransactionOutput
    }
  }
}

query getBlock($height: U64) {
  block(height: $height) {
    ...BlockItem
  }
}
