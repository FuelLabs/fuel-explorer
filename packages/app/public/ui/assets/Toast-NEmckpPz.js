import{c as D,w as me,a as G}from"./component-GWnuE1KC.js";import{$ as re,_ as P}from"./index-PzP5oypK.js";import{r as e}from"./index-4g5l5LRQ.js";import{r as ve}from"./index-jmm5gWkb.js";import{$ as C}from"./index-pbeB-vsG.js";import{$ as $e}from"./index-nXA7x1aK.js";import{$ as we,b as X,a as xe}from"./index-uUL8xeMH.js";import{b as Te,c as ne,d as Ee,$ as ye}from"./index-K96gYvhf.js";import{$ as ge}from"./index-YxBGvUbs.js";import{$ as N,a as Ce}from"./index-OvZZPJzn.js";import{$ as Pe}from"./index-uCXP6D8h.js";import{B as he}from"./ButtonClose-pfvK4f5j.js";import{i as Re}from"./index-OVDJ2T7o.js";const se="ToastProvider",[Z,_e,Se]=$e("Toast"),[ae,gt]=we("Toast",[Se]),[Ie,Y]=ae(se),ce=t=>{const{__scopeToast:r,label:n="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:d=50,children:p}=t,[f,b]=e.useState(null),[a,E]=e.useState(0),x=e.useRef(!1),O=e.useRef(!1);return e.createElement(Z.Provider,{scope:r},e.createElement(Ie,{scope:r,label:n,duration:o,swipeDirection:i,swipeThreshold:d,toastCount:a,viewport:f,onViewportChange:b,onToastAdd:e.useCallback(()=>E(_=>_+1),[]),onToastRemove:e.useCallback(()=>E(_=>_-1),[]),isFocusedToastEscapeKeyDownRef:x,isClosePausedRef:O},p))};ce.propTypes={label(t){if(t.label&&typeof t.label=="string"&&!t.label.trim()){const r=`Invalid prop \`label\` supplied to \`${se}\`. Expected non-empty \`string\`.`;return new Error(r)}return null}};const De="ToastViewport",Ae=["F8"],J="toast.viewportPause",Q="toast.viewportResume",Fe=e.forwardRef((t,r)=>{const{__scopeToast:n,hotkey:o=Ae,label:i="Notifications ({hotkey})",...d}=t,p=Y(De,n),f=_e(n),b=e.useRef(null),a=e.useRef(null),E=e.useRef(null),x=e.useRef(null),O=re(r,x,p.onViewportChange),_=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=p.toastCount>0;e.useEffect(()=>{const c=T=>{var u;o.every(v=>T[v]||T.code===v)&&((u=x.current)===null||u===void 0||u.focus())};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[o]),e.useEffect(()=>{const c=b.current,T=x.current;if(S&&c&&T){const u=()=>{if(!p.isClosePausedRef.current){const w=new CustomEvent(J);T.dispatchEvent(w),p.isClosePausedRef.current=!0}},m=()=>{if(p.isClosePausedRef.current){const w=new CustomEvent(Q);T.dispatchEvent(w),p.isClosePausedRef.current=!1}},v=w=>{!c.contains(w.relatedTarget)&&m()},$=()=>{c.contains(document.activeElement)||m()};return c.addEventListener("focusin",u),c.addEventListener("focusout",v),c.addEventListener("pointermove",u),c.addEventListener("pointerleave",$),window.addEventListener("blur",u),window.addEventListener("focus",m),()=>{c.removeEventListener("focusin",u),c.removeEventListener("focusout",v),c.removeEventListener("pointermove",u),c.removeEventListener("pointerleave",$),window.removeEventListener("blur",u),window.removeEventListener("focus",m)}}},[S,p.isClosePausedRef]);const l=e.useCallback(({tabbingDirection:c})=>{const u=f().map(m=>{const v=m.ref.current,$=[v,...ze(v)];return c==="forwards"?$:$.reverse()});return(c==="forwards"?u.reverse():u).flat()},[f]);return e.useEffect(()=>{const c=x.current;if(c){const T=u=>{const m=u.altKey||u.ctrlKey||u.metaKey;if(u.key==="Tab"&&!m){const M=document.activeElement,A=u.shiftKey;if(u.target===c&&A){var $;($=a.current)===null||$===void 0||$.focus();return}const I=l({tabbingDirection:A?"backwards":"forwards"}),V=I.findIndex(s=>s===M);if(z(I.slice(V+1)))u.preventDefault();else{var w,h;A?(w=a.current)===null||w===void 0||w.focus():(h=E.current)===null||h===void 0||h.focus()}}};return c.addEventListener("keydown",T),()=>c.removeEventListener("keydown",T)}},[f,l]),e.createElement(Te,{ref:b,role:"region","aria-label":i.replace("{hotkey}",_),tabIndex:-1,style:{pointerEvents:S?void 0:"none"}},S&&e.createElement(te,{ref:a,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"forwards"});z(c)}}),e.createElement(Z.Slot,{scope:n},e.createElement(N.ol,P({tabIndex:-1},d,{ref:O}))),S&&e.createElement(te,{ref:E,onFocusFromOutsideViewport:()=>{const c=l({tabbingDirection:"backwards"});z(c)}}))}),Ne="ToastFocusProxy",te=e.forwardRef((t,r)=>{const{__scopeToast:n,onFocusFromOutsideViewport:o,...i}=t,d=Y(Ne,n);return e.createElement(ne,P({"aria-hidden":!0,tabIndex:0},i,{ref:r,style:{position:"fixed"},onFocus:p=>{var f;const b=p.relatedTarget;!((f=d.viewport)!==null&&f!==void 0&&f.contains(b))&&o()}}))}),B="Toast",Le="toast.swipeStart",Oe="toast.swipeMove",Me="toast.swipeCancel",ke="toast.swipeEnd",Ke=e.forwardRef((t,r)=>{const{forceMount:n,open:o,defaultOpen:i,onOpenChange:d,...p}=t,[f=!0,b]=Pe({prop:o,defaultProp:i,onChange:d});return e.createElement(ge,{present:n||f},e.createElement(ie,P({open:f},p,{ref:r,onClose:()=>b(!1),onPause:X(t.onPause),onResume:X(t.onResume),onSwipeStart:C(t.onSwipeStart,a=>{a.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:C(t.onSwipeMove,a=>{const{x:E,y:x}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","move"),a.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${E}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${x}px`)}),onSwipeCancel:C(t.onSwipeCancel,a=>{a.currentTarget.setAttribute("data-swipe","cancel"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:C(t.onSwipeEnd,a=>{const{x:E,y:x}=a.detail.delta;a.currentTarget.setAttribute("data-swipe","end"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),a.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),a.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${E}px`),a.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${x}px`),b(!1)})})))}),[Ve,We]=ae(B,{onClose(){}}),ie=e.forwardRef((t,r)=>{const{__scopeToast:n,type:o="foreground",duration:i,open:d,onClose:p,onEscapeKeyDown:f,onPause:b,onResume:a,onSwipeStart:E,onSwipeMove:x,onSwipeCancel:O,onSwipeEnd:_,...S}=t,l=Y(B,n),[c,T]=e.useState(null),u=re(r,s=>T(s)),m=e.useRef(null),v=e.useRef(null),$=i||l.duration,w=e.useRef(0),h=e.useRef($),M=e.useRef(0),{onToastAdd:A,onToastRemove:j}=l,F=X(()=>{var s;(c==null?void 0:c.contains(document.activeElement))&&((s=l.viewport)===null||s===void 0||s.focus()),p()}),I=e.useCallback(s=>{!s||s===1/0||(window.clearTimeout(M.current),w.current=new Date().getTime(),M.current=window.setTimeout(F,s))},[F]);e.useEffect(()=>{const s=l.viewport;if(s){const y=()=>{I(h.current),a==null||a()},R=()=>{const k=new Date().getTime()-w.current;h.current=h.current-k,window.clearTimeout(M.current),b==null||b()};return s.addEventListener(J,R),s.addEventListener(Q,y),()=>{s.removeEventListener(J,R),s.removeEventListener(Q,y)}}},[l.viewport,$,b,a,I]),e.useEffect(()=>{d&&!l.isClosePausedRef.current&&I($)},[d,$,l.isClosePausedRef,I]),e.useEffect(()=>(A(),()=>j()),[A,j]);const V=e.useMemo(()=>c?pe(c):null,[c]);return l.viewport?e.createElement(e.Fragment,null,V&&e.createElement(He,{__scopeToast:n,role:"status","aria-live":o==="foreground"?"assertive":"polite","aria-atomic":!0},V),e.createElement(Ve,{scope:n,onClose:F},ve.createPortal(e.createElement(Z.ItemSlot,{scope:n},e.createElement(Ee,{asChild:!0,onEscapeKeyDown:C(f,()=>{l.isFocusedToastEscapeKeyDownRef.current||F(),l.isFocusedToastEscapeKeyDownRef.current=!1})},e.createElement(N.li,P({role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":d?"open":"closed","data-swipe-direction":l.swipeDirection},S,{ref:u,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:C(t.onKeyDown,s=>{s.key==="Escape"&&(f==null||f(s.nativeEvent),s.nativeEvent.defaultPrevented||(l.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:C(t.onPointerDown,s=>{s.button===0&&(m.current={x:s.clientX,y:s.clientY})}),onPointerMove:C(t.onPointerMove,s=>{if(!m.current)return;const y=s.clientX-m.current.x,R=s.clientY-m.current.y,k=!!v.current,K=["left","right"].includes(l.swipeDirection),W=["left","up"].includes(l.swipeDirection)?Math.min:Math.max,fe=K?W(0,y):0,be=K?0:W(0,R),q=s.pointerType==="touch"?10:2,H={x:fe,y:be},ee={originalEvent:s,delta:H};k?(v.current=H,U(Oe,x,ee,{discrete:!1})):oe(H,l.swipeDirection,q)?(v.current=H,U(Le,E,ee,{discrete:!1}),s.target.setPointerCapture(s.pointerId)):(Math.abs(y)>q||Math.abs(R)>q)&&(m.current=null)}),onPointerUp:C(t.onPointerUp,s=>{const y=v.current,R=s.target;if(R.hasPointerCapture(s.pointerId)&&R.releasePointerCapture(s.pointerId),v.current=null,m.current=null,y){const k=s.currentTarget,K={originalEvent:s,delta:y};oe(y,l.swipeDirection,l.swipeThreshold)?U(ke,_,K,{discrete:!0}):U(Me,O,K,{discrete:!0}),k.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})))),l.viewport))):null});ie.propTypes={type(t){if(t.type&&!["foreground","background"].includes(t.type)){const r=`Invalid prop \`type\` supplied to \`${B}\`. Expected \`foreground | background\`.`;return new Error(r)}return null}};const He=t=>{const{__scopeToast:r,children:n,...o}=t,i=Y(B,r),[d,p]=e.useState(!1),[f,b]=e.useState(!1);return je(()=>p(!0)),e.useEffect(()=>{const a=window.setTimeout(()=>b(!0),1e3);return()=>window.clearTimeout(a)},[]),f?null:e.createElement(ye,{asChild:!0},e.createElement(ne,o,d&&e.createElement(e.Fragment,null,i.label," ",n)))},Ue=e.forwardRef((t,r)=>{const{__scopeToast:n,...o}=t;return e.createElement(N.div,P({},o,{ref:r}))}),Xe=e.forwardRef((t,r)=>{const{__scopeToast:n,...o}=t;return e.createElement(N.div,P({},o,{ref:r}))}),Ye="ToastAction",de=e.forwardRef((t,r)=>{const{altText:n,...o}=t;return n?e.createElement(ue,{altText:n,asChild:!0},e.createElement(le,P({},o,{ref:r}))):null});de.propTypes={altText(t){return t.altText?null:new Error(`Missing prop \`altText\` expected on \`${Ye}\``)}};const Be="ToastClose",le=e.forwardRef((t,r)=>{const{__scopeToast:n,...o}=t,i=We(Be,n);return e.createElement(ue,{asChild:!0},e.createElement(N.button,P({type:"button"},o,{ref:r,onClick:C(t.onClick,i.onClose)})))}),ue=e.forwardRef((t,r)=>{const{__scopeToast:n,altText:o,...i}=t;return e.createElement(N.div,P({"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":o||void 0},i,{ref:r}))});function pe(t){const r=[];return Array.from(t.childNodes).forEach(o=>{if(o.nodeType===o.TEXT_NODE&&o.textContent&&r.push(o.textContent),qe(o)){const i=o.ariaHidden||o.hidden||o.style.display==="none",d=o.dataset.radixToastAnnounceExclude==="";if(!i)if(d){const p=o.dataset.radixToastAnnounceAlt;p&&r.push(p)}else r.push(...pe(o))}}),r}function U(t,r,n,{discrete:o}){const i=n.originalEvent.currentTarget,d=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});r&&i.addEventListener(t,r,{once:!0}),o?Ce(i,d):i.dispatchEvent(d)}const oe=(t,r,n=0)=>{const o=Math.abs(t.x),i=Math.abs(t.y),d=o>i;return r==="left"||r==="right"?d&&o>n:!d&&i>n};function je(t=()=>{}){const r=X(t);xe(()=>{let n=0,o=0;return n=window.requestAnimationFrame(()=>o=window.requestAnimationFrame(r)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(o)}},[r])}function qe(t){return t.nodeType===t.ELEMENT_NODE}function ze(t){const r=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const i=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||i?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r}function z(t){const r=document.activeElement;return t.some(n=>n===r?!0:(n.focus(),document.activeElement!==r))}const Ge=ce,Je=Fe,Qe=Ke,Ze=Ue,et=Xe,tt=de,ot=le,g={base:["[--tw-ring-color:var(--gray-4)]","[--radix-toast-color:var(--text-color)]","[--radix-toast-bg:var(--gray-2)]","[--radix-toast-border-color:var(--gray-6)]","[--radix-toast-action-color:var(--gray-11)]"],info:["[--tw-ring-color:var(--blue-4)]","[--radix-toast-color:var(--text-color)]","[--radix-toast-bg:var(--blue-2)]","[--radix-toast-border-color:var(--blue-6)]","[--radix-toast-action-color:var(--blue-11)]"],warning:["[--tw-ring-color:var(--yellow-4)]","[--radix-toast-color:var(--text-color)]","[--radix-toast-bg:var(--yellow-2)]","[--radix-toast-border-color:var(--yellow-6)]","[--radix-toast-action-color:var(--yellow-11)]"],success:["[--tw-ring-color:var(--green-4)]","[--radix-toast-color:var(--text-color)]","[--radix-toast-bg:var(--green-2)]","[--radix-toast-border-color:var(--green-6)]","[--radix-toast-action-color:var(--green-11)]"],error:["[--tw-ring-color:var(--red-4)]","[--radix-toast-color:var(--text-color)]","[--radix-toast-bg:var(--red-2)]","[--radix-toast-border-color:var(--red-6)]","[--radix-toast-action-color:var(--red-11)]"]},L=Re({slots:{viewport:["fixed top-0 z-50 flex flex-col-reverse p-4 tablet:bottom-0 tablet:right-0","tablet:top-auto tablet:flex-col"],toast:["group pointer-events-auto relative flex w-full items-center justify-between overflow-hidden rounded-md","p-4 shadow-lg transition-all outline-none focus-visible:ring-2 not-first:mt-4","tablet:min-w-[var(--radix-toast-width)]","data-[swipe=end]:transition-none","data-[swipe=end]:translate-x-[var(--radix-toast-swipe-move-x)]","data-[state=open]:animate-in","data-[state=open]:slide-in-from-top-full","tablet:data-[state=open]:slide-in-from-bottom-full","data-[state=closed]:animate-out","data-[state=closed]:fade-out-80","tablet:data-[state=closed]:slide-out-from-bottom-full","bg-[var(--radix-toast-bg)]","border-[var(--radix-toast-border-color)]","text-[var(--radix-toast-color)]","fuel-[Icon]:text-[var(--radix-toast-action-color)]"],action:["inline-flex h-7 shrink-0 items-center justify-center rounded-md border border-border","bg-transparent ml-4 px-3 text-sm font-medium transition-colors focus:outline-none","disabled:pointer-events-none disabled:opacity-50 focus-visible:ring-2","text-[var(--radix-toast-action-color)]","border-[var(--radix-toast-border-color)]","hover:text-[var(--radix-toast-color)]"],close:["absolute focus-visible:ring-2 top-3 right-3 opacity-0 group-hover:opacity-100","fuel-[Icon]:text-[var(--radix-toast-action-color)]","fuel-[Icon]:opacity-50","hover:fuel-[Icon]:opacity-100"],title:["text-sm font-semibold [&+div]:text-sm"],description:"text-sm opacity-90 text-[var(--radix-toast-action-color)]"},variants:{variant:{base:{toast:g.base,toastIcon:g.base},info:{toast:g.info,toastIcon:g.info},warning:{toast:g.warning,toastIcon:g.warning},success:{toast:g.success,toastIcon:g.success},error:{toast:g.error,toastIcon:g.error}},hasDescription:{true:{}}}}),rt=D({id:"ToastProvider",baseElement:Ge}),nt=D({id:"ToastViewport",baseElement:Je,className:()=>L().viewport()}),st=D({id:"Toast",baseElement:Qe,render:(t,{className:r,variant:n="base",hasDescription:o,...i})=>{const d=L({variant:n,hasDescription:o}).toast({className:r});return G(t,{...i,className:d})}}),at=D({id:"ToastAction",baseElement:tt,className:()=>L().action()}),ct=D({id:"ToastClose",baseElement:ot,className:()=>L().close(),render:(t,r)=>G(t,{children:G(he,{...r})}),defaultProps:{variant:"link"}}),it=D({id:"ToastTitle",baseElement:Ze,className:()=>L().title()}),dt=D({id:"ToastDescription",baseElement:et,className:()=>L().description()}),Ct=me(st,{Provider:rt,Viewport:nt,Action:at,Close:ct,Title:it,Description:dt});export{Ct as T,rt as a,it as b,dt as c,ct as d,nt as e};
