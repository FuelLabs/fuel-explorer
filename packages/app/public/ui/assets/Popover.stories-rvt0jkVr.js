import{c as x,w as U,j as $,a as i}from"./component-GWnuE1KC.js";import{A as q}from"./Avatar-reSNH3o8.js";import{B as G}from"./Box-Dyc_zsua.js";import{F as W}from"./Flex-ObvG_Y4q.js";import{H as _}from"./HStack-zWMSNjdx.js";import"./Container-ZHer_4Z-.js";import{B as w}from"./Button-s2ABxHFH.js";import{C as V}from"./Checkbox-5H2DWbpL.js";import{I as Z}from"./Icon-yMpA7scP.js";import{T as J}from"./Text-dPTTbXey.js";import{T as Q}from"./TextArea-wVpcK-J1.js";import{r as e}from"./index-4g5l5LRQ.js";import{$ as F,a as X,c as Y}from"./index-PzP5oypK.js";import{_ as l}from"./extends-dGVwEr9R.js";import{$ as v}from"./index-pbeB-vsG.js";import{$ as ee}from"./index-uUL8xeMH.js";import{$ as oe,a as te}from"./index-K96gYvhf.js";import{h as re,$ as ce,a as ne,b as ae}from"./Combination-3g16u1mX.js";import{$ as se}from"./index-i6iaJq_c.js";import{e as y,f as pe,g as ie,h as le,T as fe}from"./theme-IUFKUlFK.js";import{$ as M}from"./index-YxBGvUbs.js";import{$ as N}from"./index-OvZZPJzn.js";import{$ as de}from"./index-uCXP6D8h.js";import{w as ue}from"./margin.props-PzJgsS8k.js";import{c as me}from"./createReactComponent-rTvSjvh2.js";import"./color.prop-2NeWmXkP.js";import"./theme-options-gOxTq-NJ.js";import"./high-contrast.prop-QxvwxEM2.js";import"./radius.prop-eqdedovG.js";import"./layout.props-sNWQDR2x.js";import"./flex.props-EoqyxXXd.js";import"./useIconProps-CHWy8E0U.js";import"./Spinner-5v6R2VlX.js";import"./useVariants-MCkVGt0e.js";import"./base-button-byKbQBcE.js";import"./index-FkhxRFYx.js";import"./index-q_8alis5.js";import"./icons-AdHvJ7iu.js";import"./index-OVDJ2T7o.js";import"./text-od4ajCvi.js";import"./_commonjsHelpers-4gQjN7DL.js";import"./index-jmm5gWkb.js";import"./index-RaHu7lN4.js";import"./index-tvtfaFq4.js";const D="Popover",[I,ko]=ee(D,[y]),R=y(),[$e,u]=I(D),be=o=>{const{__scopePopover:c,children:a,open:p,defaultOpen:r,onOpenChange:t,modal:n=!1}=o,s=R(c),f=e.useRef(null),[m,h]=e.useState(!1),[P=!1,d]=de({prop:p,defaultProp:r,onChange:t});return e.createElement(le,s,e.createElement($e,{scope:c,contentId:se(),triggerRef:f,open:P,onOpenChange:d,onOpenToggle:e.useCallback(()=>d(O=>!O),[d]),hasCustomAnchor:m,onCustomAnchorAdd:e.useCallback(()=>h(!0),[]),onCustomAnchorRemove:e.useCallback(()=>h(!1),[]),modal:n},a))},ve="PopoverTrigger",ge=e.forwardRef((o,c)=>{const{__scopePopover:a,...p}=o,r=u(ve,a),t=R(a),n=F(c,r.triggerRef),s=e.createElement(N.button,l({type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":B(r.open)},p,{ref:n,onClick:v(o.onClick,r.onOpenToggle)}));return r.hasCustomAnchor?s:e.createElement(pe,l({asChild:!0},t),s)}),S="PopoverPortal",[he,Pe]=I(S,{forceMount:void 0}),Ce=o=>{const{__scopePopover:c,forceMount:a,children:p,container:r}=o,t=u(S,c);return e.createElement(he,{scope:c,forceMount:a},e.createElement(M,{present:a||t.open},e.createElement(oe,{asChild:!0,container:r},p)))},g="PopoverContent",xe=e.forwardRef((o,c)=>{const a=Pe(g,o.__scopePopover),{forceMount:p=a.forceMount,...r}=o,t=u(g,o.__scopePopover);return e.createElement(M,{present:p||t.open},t.modal?e.createElement(Ee,l({},r,{ref:c})):e.createElement(Oe,l({},r,{ref:c})))}),Ee=e.forwardRef((o,c)=>{const a=u(g,o.__scopePopover),p=e.useRef(null),r=F(c,p),t=e.useRef(!1);return e.useEffect(()=>{const n=p.current;if(n)return re(n)},[]),e.createElement(ce,{as:X,allowPinchZoom:!0},e.createElement(z,l({},o,{ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:v(o.onCloseAutoFocus,n=>{var s;n.preventDefault(),t.current||(s=a.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:v(o.onPointerDownOutside,n=>{const s=n.detail.originalEvent,f=s.button===0&&s.ctrlKey===!0,m=s.button===2||f;t.current=m},{checkForDefaultPrevented:!1}),onFocusOutside:v(o.onFocusOutside,n=>n.preventDefault(),{checkForDefaultPrevented:!1})})))}),Oe=e.forwardRef((o,c)=>{const a=u(g,o.__scopePopover),p=e.useRef(!1),r=e.useRef(!1);return e.createElement(z,l({},o,{ref:c,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n;if((n=o.onCloseAutoFocus)===null||n===void 0||n.call(o,t),!t.defaultPrevented){var s;p.current||(s=a.triggerRef.current)===null||s===void 0||s.focus(),t.preventDefault()}p.current=!1,r.current=!1},onInteractOutside:t=>{var n,s;(n=o.onInteractOutside)===null||n===void 0||n.call(o,t),t.defaultPrevented||(p.current=!0,t.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const f=t.target;((s=a.triggerRef.current)===null||s===void 0?void 0:s.contains(f))&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&r.current&&t.preventDefault()}}))}),z=e.forwardRef((o,c)=>{const{__scopePopover:a,trapFocus:p,onOpenAutoFocus:r,onCloseAutoFocus:t,disableOutsidePointerEvents:n,onEscapeKeyDown:s,onPointerDownOutside:f,onFocusOutside:m,onInteractOutside:h,...P}=o,d=u(g,a),O=R(a);return ne(),e.createElement(ae,{asChild:!0,loop:!0,trapped:p,onMountAutoFocus:r,onUnmountAutoFocus:t},e.createElement(te,{asChild:!0,disableOutsidePointerEvents:n,onInteractOutside:h,onEscapeKeyDown:s,onPointerDownOutside:f,onFocusOutside:m,onDismiss:()=>d.onOpenChange(!1)},e.createElement(ie,l({"data-state":B(d.open),role:"dialog",id:d.contentId},O,P,{ref:c,style:{...P.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}}))))}),Re="PopoverClose",_e=e.forwardRef((o,c)=>{const{__scopePopover:a,...p}=o,r=u(Re,a);return e.createElement(N.button,l({type:"button"},p,{ref:c,onClick:v(o.onClick,()=>r.onOpenChange(!1))}))});function B(o){return o?"open":"closed"}const we=be,Ae=ge,Te=Ce,ke=xe,Fe=_e,ye=["1","2","3","4"],Me={size:{type:"enum",values:ye,default:"2",responsive:!0}},H=o=>e.createElement(we,{...o});H.displayName="PopoverRoot";const j=e.forwardRef((o,c)=>e.createElement(Ae,{...o,ref:c,asChild:!0}));j.displayName="PopoverTrigger";const K=e.forwardRef((o,c)=>{const{className:a,forceMount:p,container:r,size:t=Me.size.default,...n}=o;return e.createElement(Te,{container:r,forceMount:p},e.createElement(fe,{asChild:!0},e.createElement(ke,{align:"start",sideOffset:8,collisionPadding:10,...n,ref:c,className:Y("rt-PopperContent","rt-PopoverContent",a,ue(t,"rt-r-size"))})))});K.displayName="PopoverContent";const L=e.forwardRef((o,c)=>e.createElement(Fe,{...o,ref:c,asChild:!0}));L.displayName="PopoverClose";const E=Object.assign({},{Root:H,Content:K,Trigger:j,Close:L});var Ne=me("message-dots","IconMessageDots",[["path",{d:"M4 21v-13a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v6a3 3 0 0 1 -3 3h-9l-4 4",key:"svg-0"}],["path",{d:"M12 11l0 .01",key:"svg-1"}],["path",{d:"M8 11l0 .01",key:"svg-2"}],["path",{d:"M16 11l0 .01",key:"svg-3"}]]);const De=x({id:"Popover",baseElement:E.Root}),Ie=x({id:"PopoverTrigger",baseElement:E.Trigger}),Se=x({id:"PopoverContent",baseElement:E.Content}),ze=x({id:"PopoverClose",baseElement:E.Close}),b=U(De,{Trigger:Ie,Content:Se,Close:ze}),Fo={title:"Overlay/Popover",component:b,parameters:{layout:"centered"}},C={render:()=>$(b,{children:[i(b.Trigger,{children:$(w,{variant:"ghost",children:[i(Z,{icon:Ne}),"Comment"]})}),i(b.Content,{className:"w-[300px]",children:$(_,{children:[i(q,{fallback:"A",radius:"full",size:"2",src:"https://images.unsplash.com/photo-1607346256330-dee7af15f7c5?&w=64&h=64&dpr=2&q=70&crop=focalpoint&fp-x=0.67&fp-y=0.5&fp-z=1.4&fit=crop"}),$(G,{children:[i(Q,{className:"w-full",placeholder:"Write a comment…"}),$(_,{className:"mt-3",justify:"between",children:[i(W,{asChild:!0,align:"center",gap:"2",children:$("label",{children:[i(V,{}),i(J,{size:"2",children:"Send to group"})]})}),i(b.Close,{children:i(w,{size:"1",children:"Comment"})})]})]})]})})]})};var A,T,k;C.parameters={...C.parameters,docs:{...(A=C.parameters)==null?void 0:A.docs,source:{originalSource:`{
  render: () => <Popover>
      <Popover.Trigger>
        <Button variant="ghost">
          <Icon icon={IconMessageDots} />
          Comment
        </Button>
      </Popover.Trigger>
      <Popover.Content className="w-[300px]">
        <HStack>
          <Avatar fallback="A" radius="full" size="2" src="https://images.unsplash.com/photo-1607346256330-dee7af15f7c5?&w=64&h=64&dpr=2&q=70&crop=focalpoint&fp-x=0.67&fp-y=0.5&fp-z=1.4&fit=crop" />
          <Box>
            <TextArea className="w-full" placeholder="Write a comment…" />
            <HStack className="mt-3" justify="between">
              <Flex asChild align="center" gap="2">
                <label>
                  <Checkbox />
                  <Text size="2">Send to group</Text>
                </label>
              </Flex>

              <Popover.Close>
                <Button size="1">Comment</Button>
              </Popover.Close>
            </HStack>
          </Box>
        </HStack>
      </Popover.Content>
    </Popover>
}`,...(k=(T=C.parameters)==null?void 0:T.docs)==null?void 0:k.source}}};const yo=["Usage"];export{C as Usage,yo as __namedExportsOrder,Fo as default};
